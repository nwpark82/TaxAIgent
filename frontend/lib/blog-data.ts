// Static blog data - pre-parsed to avoid using fs module at runtime
// This allows the blog to work in client-side bundled code

export interface BlogPost {
  slug: string;
  title: string;
  description: string;
  date: string;
  category: string;
  tags: string[];
  author: string;
  content: string;
  readingTime: number;
}

function calculateReadingTime(content: string): number {
  const wordsPerMinute = 200;
  const words = content.trim().split(/\s+/).length;
  return Math.ceil(words / wordsPerMinute);
}

// Pre-parsed blog posts
export const blogPosts: BlogPost[] = [
  {
    slug: 'expense-deduction-guide',
    title: '1인 사업자 경비처리 완벽 가이드',
    description: '프리랜서와 1인 사업자가 알아야 할 경비처리의 모든 것. 어떤 비용이 경비로 인정되는지, 필요한 증빙서류는 무엇인지 상세하게 알아봅니다.',
    date: '2025-01-15',
    category: '경비처리',
    tags: ['경비처리', '필요경비', '증빙서류', '1인사업자'],
    author: 'TaxAIgent',
    readingTime: 5,
    content: `## 경비처리란?

경비처리는 사업을 운영하면서 발생한 비용을 **필요경비**로 인정받아 과세 대상 소득에서 차감하는 것을 말합니다. 쉽게 말해, 경비로 인정받으면 그만큼 세금을 덜 낼 수 있습니다.

소득세법 제27조에 따르면, **"총수입금액에 대응하는 비용으로서 일반적으로 용인되는 통상적인 것의 합계액"**이 필요경비로 인정됩니다.

## 경비로 인정되는 비용

### 1. 사무실 관련 비용

- **임차료**: 사무실 월세, 관리비
- **통신비**: 인터넷, 전화요금
- **수도광열비**: 전기, 수도, 가스 요금

> 재택근무의 경우 전체 면적 대비 사업용으로 사용하는 면적 비율만큼 경비 인정이 가능합니다.

### 2. 업무 관련 비용

- **소모품비**: 문구류, 사무용품
- **도서인쇄비**: 업무 관련 서적, 인쇄물
- **교육훈련비**: 업무 관련 강의, 세미나 참가비
- **지급수수료**: 플랫폼 수수료, 결제 수수료

### 3. 접대비

거래처와의 식사, 선물 등은 **접대비**로 처리됩니다. 단, 접대비는 연간 한도가 있습니다.

- 기본 한도: 1,200만원
- 수입금액에 따라 추가 한도 적용

### 4. 복리후생비

1인 사업자 본인의 복지를 위한 비용도 일정 부분 인정됩니다.

- 건강검진비
- 경조사비 (통상적인 범위)

### 5. 차량 관련 비용

업무용으로 사용하는 차량의 경우:

- 유류비
- 자동차 보험료
- 수리비, 정비비
- 주차료, 통행료

**주의**: 업무 사용 비율을 명확히 구분해야 합니다. 운행일지 작성을 권장합니다.

## 경비로 인정되지 않는 비용

다음 비용은 경비처리가 불가능합니다:

1. **개인적인 생활비**: 개인 식비, 의류비 등
2. **가족 관련 비용**: 가족 여행, 가족 식사
3. **벌금, 과태료**: 법규 위반으로 인한 제재금
4. **증빙 없는 지출**: 적격 증빙서류가 없는 경우

## 필요한 증빙서류

경비처리를 위해서는 적격 증빙서류가 필요합니다:

1. **세금계산서**: 부가가치세 매입세액 공제 가능
2. **신용카드 매출전표**: 사업용 신용카드 권장
3. **현금영수증**: 사업자용 현금영수증
4. **간이영수증**: 3만원 이하 소액만 인정

## 경비처리 팁

### 사업용 카드 분리

개인용과 사업용 카드를 분리하면 경비 관리가 훨씬 쉬워집니다.

### 영수증 즉시 정리

영수증을 받는 즉시 사진을 찍어두고, 용도를 메모해두세요.

### 정기적인 장부 정리

월 1회 이상 지출 내역을 정리하면 연말에 고생하지 않습니다.

## 마무리

경비처리는 세금을 합법적으로 절감할 수 있는 중요한 방법입니다. 하지만 무리한 경비처리는 세무조사의 대상이 될 수 있으니, 항상 적격 증빙과 함께 합리적인 범위 내에서 처리하세요.

궁금한 점이 있다면 TaxAIgent에서 AI 세무 상담을 받아보세요!`,
  },
  {
    slug: 'freelancer-tax-tips',
    title: '프리랜서가 알아야 할 세금 상식 10가지',
    description: '프리랜서로 활동하면서 꼭 알아야 할 세금 관련 기본 상식을 정리했습니다. 종합소득세부터 부가가치세까지 핵심만 쏙쏙!',
    date: '2025-01-12',
    category: '세금기초',
    tags: ['프리랜서', '종합소득세', '부가가치세', '세금신고'],
    author: 'TaxAIgent',
    readingTime: 6,
    content: `## 프리랜서 세금, 왜 어려울까?

직장인은 회사에서 세금을 알아서 처리해주지만, 프리랜서는 스스로 세금 문제를 해결해야 합니다. 하지만 너무 걱정하지 마세요. 기본적인 내용만 알면 생각보다 어렵지 않습니다.

## 1. 3.3% 원천징수의 의미

클라이언트로부터 받는 대가에서 3.3%가 공제되는 것을 보셨을 겁니다. 이것은 **원천징수**입니다.

- 소득세 3% + 지방소득세 0.3% = 3.3%
- 이미 낸 세금이므로 종합소득세 신고 시 차감됩니다
- 연간 소득이 적으면 **환급**을 받을 수도 있습니다

## 2. 종합소득세 신고는 5월

프리랜서의 가장 중요한 세금 일정은 **5월 종합소득세 신고**입니다.

- 신고 기간: 매년 5월 1일 ~ 5월 31일
- 신고 대상: 전년도 1월 1일 ~ 12월 31일 소득
- 홈택스에서 직접 신고 가능

## 3. 사업자등록, 해야 할까?

연 소득 4,800만원 이상이면 사업자등록이 유리합니다.

**사업자등록의 장점:**
- 세금계산서 발행 가능
- 부가가치세 매입세액 공제
- 더 많은 경비 인정

**단점:**
- 부가가치세 신고 의무
- 장부 기장 의무

## 4. 부가가치세, 언제 내나요?

사업자등록을 한 경우:

- **간이과세자** (연 매출 8,000만원 미만): 1월 신고
- **일반과세자**: 1월, 7월 신고 (연 2회)

부가가치세율은 10%이며, 매출세액에서 매입세액을 뺀 금액을 납부합니다.

## 5. 종합소득세율 구조

종합소득세는 **누진세율**이 적용됩니다.

| 과세표준 | 세율 |
|---------|------|
| 1,400만원 이하 | 6% |
| 1,400만원 ~ 5,000만원 | 15% |
| 5,000만원 ~ 8,800만원 | 24% |
| 8,800만원 ~ 1.5억원 | 35% |
| 1.5억원 초과 | 38%~45% |

## 6. 단순경비율 vs 기준경비율

소득 규모에 따라 경비 계산 방식이 달라집니다.

**단순경비율 적용 (소규모):**
- 업종별로 정해진 비율로 경비 인정
- 장부 기장 의무 없음
- 적용 기준: 업종별 수입금액 기준

**기준경비율 적용:**
- 주요 경비는 실제 증빙 필요
- 나머지는 기준경비율로 계산

## 7. 건강보험료 주의

프리랜서는 **지역가입자**로 건강보험에 가입합니다.

- 소득, 재산, 자동차 등을 기준으로 산정
- 종합소득세 신고 후 조정됨
- 갑자기 오를 수 있으니 대비 필요

## 8. 국민연금 가입

프리랜서도 국민연금 가입 의무가 있습니다.

- 지역가입자로 가입
- 소득의 9% 납부 (전액 본인 부담)
- 소득이 없거나 적으면 납부예외 신청 가능

## 9. 경비 영수증 보관 기간

세금 관련 서류는 **5년간** 보관해야 합니다.

- 영수증
- 계약서
- 세금계산서
- 통장 거래내역

## 10. 세무사 도움, 언제 받을까?

다음 경우에는 세무사 상담을 권장합니다:

- 연 수입 4,800만원 이상
- 복잡한 소득 구조 (여러 클라이언트)
- 세무조사 대응
- 사업자등록 고민

## 마무리

세금은 복잡해 보이지만, 기본 원리를 이해하면 훨씬 쉬워집니다. 매월 조금씩 정리하고, 궁금한 점은 바로바로 확인하는 습관을 들이세요.

TaxAIgent에서 세무 관련 궁금증을 해결해보세요!`,
  },
  {
    slug: 'entertainment-vs-welfare',
    title: '접대비 vs 복리후생비, 어떻게 구분할까?',
    description: '비슷해 보이지만 세무적으로 완전히 다른 접대비와 복리후생비. 어떤 상황에서 어떤 계정과목을 사용해야 하는지 명확하게 정리합니다.',
    date: '2025-01-10',
    category: '경비처리',
    tags: ['접대비', '복리후생비', '계정과목', '경비구분'],
    author: 'TaxAIgent',
    readingTime: 6,
    content: `## 왜 구분이 중요한가?

접대비와 복리후생비는 비슷해 보이지만, 세무적으로 큰 차이가 있습니다.

- **접대비**: 손금한도가 있음 (연간 제한)
- **복리후생비**: 한도 없이 전액 경비 인정

잘못 구분하면 세무조사 시 문제가 될 수 있고, 제대로 구분하면 절세 효과를 극대화할 수 있습니다.

## 접대비란?

**소득세법 시행령 제55조**에 따르면, 접대비는 사업과 관련하여 **거래처 등에게** 접대, 교제, 사례 등의 목적으로 지출한 비용입니다.

### 접대비의 특징

1. **지출 대상**: 외부인 (거래처, 클라이언트)
2. **목적**: 업무상 관계 유지, 거래 원활화
3. **손금 한도**: 기본 1,200만원 + 수입금액 비례 추가 한도

### 접대비 사례

- 거래처와의 식사 비용
- 명절 선물 (거래처에 보내는)
- 골프 접대 비용
- 거래처 경조사비

## 복리후생비란?

**소득세법 제27조**에 따르면, 복리후생비는 **사업자 본인 또는 임직원**의 복지를 위해 지출하는 비용입니다.

### 복리후생비의 특징

1. **지출 대상**: 내부인 (본인, 직원)
2. **목적**: 근로 의욕 향상, 복지 증진
3. **손금 한도**: 없음 (전액 인정)

### 복리후생비 사례

- 직원 회식비
- 직원 건강검진비
- 직원 경조사비
- 직원 교육비
- 야근 시 식대

## 구분 기준 정리

| 구분 | 접대비 | 복리후생비 |
|------|--------|-----------|
| 대상 | 외부인 (거래처) | 내부인 (본인/직원) |
| 목적 | 거래 관계 유지 | 복지 증진 |
| 한도 | 있음 | 없음 |
| 증빙 | 신용카드/세금계산서 | 신용카드/세금계산서 |

## 헷갈리기 쉬운 상황

### 1. 거래처 직원과 식사

**상황**: A회사의 담당자와 점심 식사

**판단**: **접대비**
- 이유: 거래처 관계자이므로 외부인에 해당

### 2. 프리랜서 본인의 식사

**상황**: 업무 중 혼자 점심 식사

**판단**: **경비 불인정**
- 이유: 통상적인 개인 식사비는 경비로 인정되지 않음

### 3. 팀 회식

**상황**: 프로젝트 완료 후 팀원들과 회식

**판단**: **복리후생비** (직원이 있는 경우)
- 이유: 직원 복지 목적의 지출

### 4. 거래처와 직원이 함께한 식사

**상황**: 거래처 2명 + 직원 3명 회식

**판단**: 일반적으로 **접대비**로 처리
- 이유: 거래처가 포함되어 있으면 접대 목적으로 봄

## 1인 사업자의 경우

1인 사업자는 '직원'이 없으므로 복리후생비 적용이 제한적입니다.

**인정되는 경우:**
- 4대 보험료
- 건강검진비
- 사업 관련 교육비

**주의할 점:**
- 본인 식사비는 일반적으로 불인정
- 거래처 관련 지출만 접대비로 처리 가능

## 증빙 관리 팁

### 접대비 증빙

1. **지출 일시**: 정확한 날짜
2. **지출 장소**: 업소명
3. **참석자**: 거래처명, 담당자명
4. **목적**: 구체적인 접대 목적

### 복리후생비 증빙

1. **지출 일시**: 정확한 날짜
2. **참석자**: 직원 명단
3. **목적**: 회식, 워크숍 등

## 절세 팁

1. **복리후생비로 처리 가능한 건 복리후생비로**: 한도가 없으므로 유리
2. **접대비 한도 관리**: 연간 한도를 체크하며 지출
3. **증빙 철저히**: 구분이 명확한 증빙 관리
4. **AI 도움 받기**: 헷갈리는 건 TaxAIgent에서 확인

## 마무리

접대비와 복리후생비의 구분은 **누구를 위한 지출인가**가 핵심입니다. 외부인을 위한 지출은 접대비, 내부인(직원)을 위한 지출은 복리후생비로 기억하세요.

TaxAIgent에서 경비처리 여부를 바로 확인해보세요!`,
  },
  {
    slug: 'vat-basics',
    title: '부가가치세 신고 A to Z',
    description: '부가가치세가 무엇인지, 언제 어떻게 신고해야 하는지 기초부터 실전까지 상세하게 알아봅니다.',
    date: '2025-01-08',
    category: '세금신고',
    tags: ['부가가치세', '세금신고', '일반과세자', '간이과세자'],
    author: 'TaxAIgent',
    readingTime: 7,
    content: `## 부가가치세란?

부가가치세(VAT, Value Added Tax)는 상품이나 서비스의 **부가가치**에 대해 부과되는 세금입니다. 우리가 물건을 살 때 가격의 10%가 부가가치세입니다.

## 부가가치세 신고 의무자

**사업자등록을 한 경우** 부가가치세 신고 의무가 있습니다.

- 일반과세자
- 간이과세자

**프리랜서로 사업자등록 없이 활동하는 경우**는 부가가치세 신고 의무가 없습니다. 대신 종합소득세만 신고합니다.

## 일반과세자 vs 간이과세자

### 일반과세자

- **적용 대상**: 연 매출 8,000만원 이상
- **세율**: 10%
- **신고 횟수**: 연 2회 (1월, 7월)
- **세금계산서**: 발행 가능
- **매입세액 공제**: 전액 공제

### 간이과세자

- **적용 대상**: 연 매출 8,000만원 미만
- **세율**: 업종별 1.5%~4%
- **신고 횟수**: 연 1회 (1월)
- **세금계산서**: 발행 불가 (영수증 발행)
- **매입세액 공제**: 일부만 공제

## 부가가치세 계산 방법

### 일반과세자

\`\`\`
납부세액 = 매출세액 - 매입세액
\`\`\`

**예시:**
- 매출: 1,000만원 → 매출세액: 100만원
- 매입: 400만원 → 매입세액: 40만원
- **납부세액: 60만원**

### 간이과세자

\`\`\`
납부세액 = (매출액 × 업종별 부가가치율 × 10%) - 공제세액
\`\`\`

업종별 부가가치율이 적용되어 실제 납부액이 적습니다.

## 신고 일정

### 일반과세자

| 구분 | 과세기간 | 신고납부기간 |
|------|---------|-------------|
| 1기 | 1월~6월 | 7월 1일~25일 |
| 2기 | 7월~12월 | 다음해 1월 1일~25일 |

### 간이과세자

| 구분 | 과세기간 | 신고납부기간 |
|------|---------|-------------|
| 연간 | 1월~12월 | 다음해 1월 1일~25일 |

## 매입세액 공제

부가가치세의 핵심은 **매입세액 공제**입니다. 사업을 위해 지출한 비용의 부가가치세를 돌려받을 수 있습니다.

### 공제 가능한 경우

- 사업용 물품 구매
- 사무실 임차료
- 업무용 차량 유지비
- 사업 관련 서비스 이용

### 공제 불가능한 경우

- 접대비 (일부 제외)
- 비영업용 소형승용차
- 개인적 사용 물품
- 면세 사업 관련 매입

## 세금계산서

부가가치세 신고의 핵심 증빙은 **세금계산서**입니다.

### 세금계산서란?

부가가치세 10%가 포함된 거래를 증명하는 서류입니다.

### 세금계산서 vs 계산서

- **세금계산서**: 부가가치세 과세 거래
- **계산서**: 부가가치세 면세 거래

### 전자세금계산서

2024년 기준 연 매출 8,000만원 이상 사업자는 전자세금계산서 의무 발행입니다.

## 부가가치세 환급

매출세액보다 매입세액이 많으면 **환급**을 받습니다.

### 환급이 발생하는 경우

- 초기 투자 비용이 많을 때
- 수출 비중이 높을 때
- 면세 매출 비중이 높을 때

### 환급 시기

신고 후 약 30일 이내 환급됩니다.

## 신고 방법

### 홈택스 신고 절차

1. 국세청 홈택스 접속
2. 부가가치세 신고 메뉴 선택
3. 매출/매입 내역 입력
4. 세금계산서 불러오기
5. 신고서 제출
6. 세금 납부 (납부할 세액이 있는 경우)

### 필요 서류

- 세금계산서 (매출/매입)
- 신용카드 매출전표
- 현금영수증 내역
- 수출 관련 서류 (해당 시)

## 주의사항

### 신고 지연 시 가산세

- 무신고: 납부세액의 20%
- 과소신고: 납부세액의 10%
- 납부 지연: 미납세액 × 0.022% × 지연일수

### 세금계산서 미발급 가산세

- 공급가액의 2%

## 절세 팁

1. **매입세액 누락 없이 챙기기**: 세금계산서, 신용카드 내역 꼼꼼히 확인
2. **적격 증빙 수취**: 간이영수증보다 세금계산서
3. **사업용 신용카드 분리**: 매입세액 공제 편리
4. **신고 기한 준수**: 가산세 피하기

## 마무리

부가가치세는 복잡해 보이지만, **매출세액 - 매입세액**이라는 기본 원리만 이해하면 됩니다. 증빙서류를 잘 관리하고, 신고 기한을 지키는 것이 가장 중요합니다.

부가가치세 관련 궁금증은 TaxAIgent에서 확인하세요!`,
  },
  {
    slug: 'year-end-vs-comprehensive',
    title: '연말정산과 종합소득세의 차이',
    description: '직장인은 연말정산, 프리랜서는 종합소득세? 두 제도의 차이점과 프리랜서가 알아야 할 핵심 포인트를 정리합니다.',
    date: '2025-01-05',
    category: '세금기초',
    tags: ['연말정산', '종합소득세', '직장인', '프리랜서'],
    author: 'TaxAIgent',
    readingTime: 7,
    content: `## 헷갈리는 두 가지 세금 정산

"프리랜서도 연말정산 하나요?"

많이 받는 질문입니다. 결론부터 말씀드리면, **프리랜서는 연말정산이 아닌 종합소득세 신고**를 합니다.

## 연말정산이란?

연말정산은 **근로소득이 있는 직장인**이 1년간 납부한 세금을 정산하는 절차입니다.

### 연말정산의 특징

- **대상**: 근로소득자 (직장인)
- **시기**: 매년 2월
- **방법**: 회사에서 일괄 처리
- **결과**: 환급 또는 추가 납부

### 연말정산 과정

1. 매월 급여에서 원천징수 (미리 세금 납부)
2. 연말에 공제 항목 신청
3. 정산 후 차액 환급 또는 추가 납부

## 종합소득세란?

종합소득세는 **1년간 발생한 모든 소득**을 합산하여 신고하는 절차입니다.

### 종합소득세의 특징

- **대상**: 사업소득자, 프리랜서, 임대소득자 등
- **시기**: 매년 5월 1일 ~ 31일
- **방법**: 본인이 직접 신고
- **결과**: 세금 납부 (환급 가능)

### 종합소득세 대상 소득

1. **사업소득**: 프리랜서, 개인사업자 수입
2. **근로소득**: 급여 (연말정산 후 추가 신고 필요 시)
3. **이자소득**: 예금 이자
4. **배당소득**: 주식 배당금
5. **연금소득**: 연금 수령액
6. **기타소득**: 강연료, 원고료 등

## 핵심 차이점 비교

| 구분 | 연말정산 | 종합소득세 |
|------|---------|-----------
| 대상 | 직장인 (근로소득자) | 사업자, 프리랜서 |
| 시기 | 2월 | 5월 |
| 처리 | 회사에서 대행 | 본인 직접 신고 |
| 소득 범위 | 근로소득만 | 모든 소득 합산 |
| 공제 항목 | 근로소득공제 중심 | 필요경비 중심 |

## 겸업 시 어떻게 할까?

직장을 다니면서 프리랜서 활동도 하는 경우:

### 방법 1: 회사에서 연말정산 + 5월 종합소득세 신고

1. 2월: 회사에서 근로소득 연말정산
2. 5월: 사업소득(프리랜서)을 포함하여 종합소득세 신고

### 방법 2: 연말정산 시 프리랜서 소득 포함

회사에 다른 소득이 있음을 알리고 합산하여 연말정산하는 방법도 있지만, 일반적으로 **방법 1**을 사용합니다.

## 프리랜서 종합소득세 신고 절차

### 1. 소득 파악

- 3.3% 원천징수된 소득 내역 확인
- 원천징수영수증 수집

### 2. 경비 정리

- 필요경비 계산
- 증빙서류 정리

### 3. 신고서 작성

- 홈택스에서 작성
- 소득금액 - 필요경비 = 과세표준

### 4. 세액 계산

- 이미 납부한 세금(3.3% 원천징수) 차감
- 결정세액 확정

### 5. 납부 또는 환급

- 납부할 세액이 있으면 납부
- 환급액이 있으면 환급 신청

## 프리랜서가 받을 수 있는 공제

### 필요경비 (사업 관련 비용)

- 사무실 임차료
- 통신비
- 소모품비
- 교육훈련비
- 차량유지비

### 소득공제

- 인적공제 (본인, 배우자, 부양가족)
- 연금보험료 공제
- 특별소득공제 (건강보험료 등)

### 세액공제

- 자녀세액공제
- 연금계좌세액공제
- 기부금세액공제

## 3.3% 원천징수와 환급

프리랜서가 클라이언트로부터 받는 대가의 3.3%는 **이미 납부한 세금**입니다.

### 환급받는 경우

- 연간 소득이 적은 경우
- 필요경비가 많은 경우
- 공제 항목이 많은 경우

### 계산 예시

\`\`\`
총 수입: 3,000만원
원천징수액 (3.3%): 99만원

과세표준 계산 후 결정세액: 50만원

환급액: 99만원 - 50만원 = 49만원 환급
\`\`\`

## 신고하지 않으면?

종합소득세를 신고하지 않으면:

1. **무신고 가산세**: 납부세액의 20%
2. **납부불성실 가산세**: 미납세액 × 0.022% × 일수
3. **환급 불가**: 환급받을 수 있는 세금도 못 받음

## 마무리

- **직장인**: 연말정산 (2월, 회사 처리)
- **프리랜서**: 종합소득세 (5월, 직접 신고)
- **겸업**: 연말정산 + 종합소득세 모두

프리랜서는 연말정산이 없어서 아쉬워 보이지만, 종합소득세 신고를 통해 **필요경비를 인정받을 수 있어** 오히려 유리할 수 있습니다.

세금 신고 관련 궁금증은 TaxAIgent에서 해결하세요!`,
  },
];

// Helper functions
export function getAllPosts(): BlogPost[] {
  return blogPosts.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
}

export function getPostBySlug(slug: string): BlogPost | undefined {
  return blogPosts.find(post => post.slug === slug);
}

export function getAllCategories(): string[] {
  const categories = new Set(blogPosts.map(post => post.category));
  return Array.from(categories);
}

export function getAllTags(): string[] {
  const tags = new Set(blogPosts.flatMap(post => post.tags));
  return Array.from(tags);
}

export function getPostsByCategory(category: string): BlogPost[] {
  return blogPosts
    .filter(post => post.category === category)
    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
}

export function getPostsByTag(tag: string): BlogPost[] {
  return blogPosts
    .filter(post => post.tags.includes(tag))
    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());
}

export function getRelatedPosts(currentSlug: string, limit: number = 3): BlogPost[] {
  const currentPost = getPostBySlug(currentSlug);
  if (!currentPost) return [];

  return blogPosts
    .filter(post => post.slug !== currentSlug)
    .map(post => ({
      post,
      score: calculateRelevanceScore(currentPost, post),
    }))
    .sort((a, b) => b.score - a.score)
    .slice(0, limit)
    .map(({ post }) => post);
}

function calculateRelevanceScore(current: BlogPost, other: BlogPost): number {
  let score = 0;

  // Same category
  if (current.category === other.category) {
    score += 3;
  }

  // Shared tags
  const sharedTags = current.tags.filter(tag => other.tags.includes(tag));
  score += sharedTags.length;

  return score;
}
